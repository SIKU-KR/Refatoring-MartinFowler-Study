# Chapter 2. 리팩터링 원칙

> **리팩터링**
> 
> [명사] 소프트웨어의 겉보기 동작은 그대로 유지한 채 코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 방법

위에서 제시한 정의를 따를면 특정한 방식에 코드를 정리하는 것만이 리팩터링이다. 

코드가 항상 정상 작동하기 때문에 전체 작업이 끝나지 않았더라도 언제든 멈출 수 있다.

저자는 코드베이스를 정리하거나 구조를 바꾸는 모든 작업을 **재구성(Restructuring)** 이라는 포괄적인 단어를 사용하며, **리팩터링** 은 하나의 특수한 형태로 본다고 한다.

### 두개의 모자

**진척도**는 테스트를 추가해서 통과하는지 확인하는 방식으로 측정한다. 

반면 **리팩터링** 을 할 때는 '리팩터링'모자를 쓴 다음 절대 기능 추가를 하지 않기로 다짐한 뒤 오로지 코드 재구성에만 전념한다.

> 실무를 해본사람들에겐 두개의 모자 비유가 정말 적합하다, 단계를 명확히하는게 굉장히 중요하다. - 토비

### 리팩터링을 하는 이유

#### 리팩터링하면 소프트웨어 설계가 좋아진다.




---

Q. 토비님께서 업무하시는 개발 팀에서도 별도로 리팩토링하는 시간은 아예 잡지 않으시나요?
Q. 해외 매니저들도 리팩토링을 싫어하는 경향이 있는지 궁금합니다.
책의 저자가 서양사람이고 매니저가 리팩토링을 싫어하는 경향을 보이는건 세상 어딜가나 똑같은거 같다. 팀원 전체가 리팩토링을 하겠다는 것은 받아들이기 힘든 표현이다. (일을 제대로안했나?) 그래서 계획된 리팩토링을 잡는 것이 은근히 어렵다. 그리고 그렇게 계획 잡은 날에는 급한일들이 생겨버리면 계획된 리팩토링을 수행하기 쉽지않다.
+ 꿀팁 : 리팩토링을 하기 위해서 시간이 필요하다면 매니저에게 개발 일정의 완료 진척도를 어느정도 여유있게 보고해라 . (실제로 기능은 100%됐더라도 70%로 보고하면 어느정도 여유가생긴다고함) - 근데 요즘은 깃에 다 나와서 쉽지않긴함

테스트를 잘못 만들면 테스트가 너무 오래걸리고, 리팩토링 템포가 너무 느려질 수 있다. 테스트가 빨리돌도록 만들어야한다. (4장에서 집중)

